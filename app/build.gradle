apply plugin: 'com.android.application'

repositories {
    mavenCentral()
}

android {
    signingConfigs {
        config {
            keyAlias 'myKey'
            keyPassword 'Pppother1'
            storeFile file('E:/GoogleDrive/Work/Cacophonoy/keystores/android.jks')
            storePassword 'Pppother1'
        }
    }
    // compileSdkVersion 26
    compileSdkVersion 25
    //   compileSdkVersion 24
//    buildToolsVersion '25.0.0'
    //  buildToolsVersion '25.0.3' // told to remove this after upgrading Gradle Plugin
    defaultConfig {
        applicationId "nz.org.cacophonoy.cacophonometerlite"
//        minSdkVersion 8
        minSdkVersion 9
       // minSdkVersion 18 // 5/3/18 UI Automator needs Android 4.3 (API level 18) or higher https://developer.android.com/training/testing/ui-automator.html
        // 15/2/18 Was using

        //noinspection OldTargetApi
//        targetSdkVersion 18 // hoping this will stop the alarms batching https://developer.android.com/about/versions/android-4.4.html
//        targetSdkVersion 24
     //   targetSdkVersion 25 // targetSdkVersion 25 but I can't stop alarms batching (even using alarmManager.setExact)
        targetSdkVersion 22  // less than 23 to prevent issue with asking for permissions. But if this is changed to 23 or greater, code already has logic to tell user to enable required permissions when record button is pressed.
        versionCode 1
        versionName "0.991"

        archivesBaseName = "Cacophonometer-$versionName"
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.config
        }
        debug {
            signingConfig signingConfigs.config
        }
    }
}

dependencies {
    implementation 'com.android.support.constraint:constraint-layout:1.0.2'
    //implementation 'com.android.support:design:25.4.0'
    compile fileTree(include: ['*.jar'], dir: 'libs')

    compile 'com.android.support:appcompat-v7:25.3.1'


    compile 'com.loopj.android:android-async-http:1.4.9'
    compile 'org.apache.commons:commons-lang3:3.4'

    compile'com.android.support.test.espresso:espresso-idling-resource:2.2.2'



    // https://stackoverflow.com/questions/26633349/disable-ssl-as-a-protocol-in-httpsurlconnection
    compile 'info.guardianproject.netcipher:netcipher:1.2'

    androidTestCompile 'com.android.support:support-annotations:24.0.0'
    androidTestCompile 'com.android.support.test:runner:0.5'
    androidTestCompile 'com.android.support.test:rules:0.5'
    // Optional -- Hamcrest library
    androidTestCompile 'org.hamcrest:hamcrest-library:1.3'
    // Optional -- UI testing with Espresso
    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {
        exclude group: 'com.android.support', module: 'support-annotations'
    })


    // Optional -- UI testing with UI Automator
  //  androidTestCompile 'com.android.support.test.uiautomator:uiautomator-v18:2.1.2'

    testCompile 'junit:junit:4.12'

    testCompile 'org.mockito:mockito-core:1.10.19'

}
